<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>JsonXmlUtils</title>
    <link href="./css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <style>
        textarea {
            min-height: 200px;
        }
    </style>
</head>
<body class="bg-light">
    <div class="container">
        <app>Loading...</app>
    </div>

    <script src="./framework/blazor.webassembly.js"></script>
    <script type="text/javascript">
        window.readUploadedFileAsText = (fileInputControlId) => {
            const fileInputControl = document.getElementById(fileInputControlId);
            if (!fileInputControl.files || fileInputControl.files.length < 1) {
                return null;
            }
            const temporaryFileReader = new FileReader();
            return new Promise((resolve, reject) => {
                temporaryFileReader.onerror = () => {
                    temporaryFileReader.abort();
                    reject(new DOMException("Problem parsing input file."));
                };
                temporaryFileReader.addEventListener("load", function () {
                    var data = {
                        content: temporaryFileReader.result.split(',')[1]
                    };
                    resolve(data);
                }, false);
                temporaryFileReader.readAsDataURL(fileInputControl.files[0]);
            });
        };
    </script>
</body>
</html>
